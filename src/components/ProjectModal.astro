---
import BaseModal from './BaseModal.astro'
import VimeoPlayer from './VimeoPlayer.astro';
import { imagePath } from '../data/siteInfo'

const { triggerId, project: {title, director, clips, stills } } = Astro.props
---

<BaseModal {triggerId}>
  <header>
    <h3 tabindex="-1">{title}</h3>
    {director && <h4>Director: {director}</h4>}
  </header>

  {clips && 
    <section class="clips bleed">
      {clips.map(clip => (
        <div class="clip">
          <VimeoPlayer url={clip} />
        </div>
      ))}
    </section>
  }

  {stills && 
    <section class="stills">
      {stills.map(still => (
        <img src={imagePath + still} alt="" loading="lazy"/>
      ))}
    </section>
  }
  
</BaseModal>

<style lang="scss">
header {
  padding-left: 2rem;
  margin-bottom: 2rem;

  h3 {
    padding: 0;
    margin-bottom: 0;
  }

  h4 {
    font-weight: 400;
  }
}

img {
  display: block;
  width: 100%;
}

.clip, img {
  margin-bottom: 6rem;
}

.clip iframe {
  cursor: pointer;
}
</style>